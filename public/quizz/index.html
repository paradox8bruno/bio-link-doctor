<!doctype html>
<html lang="pt-BR" class="h-full">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Quiz de Sintomas - Ferro e Anemia | Hematoveg</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;500;600;700&family=Lato:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body {
      box-sizing: border-box;
    }
    
    :root {
      --olive: #6B8E23;
      --olive-dark: #4D6617;
      --sage: #9CAF88;
      --beige: #D4C5B9;
    }
    
    .font-display { font-family: 'Playfair Display', serif; }
    .font-body { font-family: 'Lato', sans-serif; }
    
    .question-card {
      transition: all 0.3s ease;
    }
    
    .question-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 16px -4px rgba(107, 142, 35, 0.15);
    }

    .checkbox-custom {
      appearance: none;
      width: 24px;
      height: 24px;
      border: 2px solid var(--sage);
      border-radius: 6px;
      cursor: pointer;
      transition: all 0.2s;
      position: relative;
    }
    
    .checkbox-custom:checked {
      background: var(--olive);
      border-color: var(--olive);
    }
    
    .checkbox-custom:checked::after {
      content: '‚úì';
      color: white;
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 16px;
      font-weight: bold;
    }

    .progress-bar {
      transition: width 0.3s ease;
    }

    .section-badge {
      animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-4px); }
    }

    .result-card {
      animation: slideIn 0.5s ease-out;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
  </style>
 </head>
 <body class="h-full font-body bg-gradient-to-br from-emerald-50 via-stone-50 to-amber-50">
   
   <!-- Header -->
   <header class="w-full bg-white/90 backdrop-blur-md sticky top-0 z-50 border-b-2 border-[#6B8E23]/10 shadow-sm">
       <div class="max-w-4xl mx-auto px-4 py-5 md:py-6">
           <div class="flex flex-col items-center gap-2">
               <div class="flex items-center gap-2">
                   <div class="w-8 h-8 rounded-full bg-gradient-to-br from-[#6B8E23] to-[#5a7a1e] flex items-center justify-center">
                       <span class="text-white text-lg">üå±</span>
                   </div>
                   <span class="text-xs font-bold tracking-[0.2em] text-[#6B8E23] uppercase">Hematoveg</span>
               </div>
               <h1 class="font-display text-2xl md:text-3xl font-bold text-stone-900 text-center">
                   Quiz de Sintomas
               </h1>
               <p class="text-sm text-stone-600 text-center">
                   Ferro e Anemia em Vegetarianas
               </p>
           </div>
       </div>
   </header>

   <main class="w-full max-w-3xl mx-auto px-4 py-8 pb-24">
       
       <!-- Welcome Screen -->
       <div id="welcomeScreen" class="space-y-6">
           <div class="bg-white rounded-3xl p-8 shadow-lg border-2 border-transparent hover:border-[#6B8E23]/20 transition-colors">
               <div class="text-center mb-6">
                   <div class="w-20 h-20 mx-auto mb-4 rounded-full bg-gradient-to-br from-[#6B8E23] to-[#5a7a1e] flex items-center justify-center shadow-lg">
                       <span class="text-4xl">üìã</span>
                   </div>
                   <h2 class="font-display text-2xl md:text-3xl font-bold text-stone-900 mb-3">
                       Avalie seus sintomas
                   </h2>
                   <p class="text-stone-600 leading-relaxed max-w-lg mx-auto">
                       Este quiz foi desenvolvido para ajudar voc√™ a identificar poss√≠veis sinais de defici√™ncia de ferro ou anemia. Responda com sinceridade sobre os sintomas que voc√™ tem experimentado.
                   </p>
               </div>

               <div class="bg-gradient-to-br from-emerald-50 to-stone-50 rounded-2xl p-6 mb-6">
                   <h3 class="font-bold text-stone-900 mb-3 flex items-center gap-2">
                       <span class="text-[#6B8E23]">üí°</span>
                       O que voc√™ vai responder:
                   </h3>
                   <div class="space-y-2 text-sm text-stone-700">
                       <div class="flex items-start gap-2">
                           <span class="text-[#6B8E23] font-bold">‚Ä¢</span>
                           <span><strong>Parte 1:</strong> Sintomas f√≠sicos (9 perguntas)</span>
                       </div>
                       <div class="flex items-start gap-2">
                           <span class="text-[#6B8E23] font-bold">‚Ä¢</span>
                           <span><strong>Parte 2:</strong> Sintomas cognitivos (8 perguntas)</span>
                       </div>
                       <div class="flex items-start gap-2">
                           <span class="text-[#6B8E23] font-bold">‚Ä¢</span>
                           <span><strong>Parte 3:</strong> Fatores de risco (8 perguntas)</span>
                       </div>
                   </div>
               </div>

               <button onclick="startQuiz()" class="w-full bg-gradient-to-r from-[#6B8E23] to-[#5a7a1e] hover:from-[#5a7a1e] hover:to-[#4D6617] text-white font-bold py-4 px-8 rounded-full shadow-lg hover:shadow-xl transform hover:-translate-y-1 transition-all text-lg">
                   Iniciar Quiz
               </button>
           </div>
       </div>

       <!-- Quiz Screen -->
       <div id="quizScreen" class="hidden">
           <!-- Progress Bar -->
           <div class="mb-6">
              <div class="flex items-center justify-between text-sm font-medium text-stone-600 mb-2">
                  <span id="sectionLabel">Sintomas F√≠sicos</span>
                  <span><span id="currentQuestion">1</span> de <span id="totalQuestions">25</span></span>
              </div>
              <div class="w-full h-3 bg-stone-200 rounded-full overflow-hidden">
                  <div id="progressBar" class="progress-bar h-full bg-gradient-to-r from-[#6B8E23] to-[#9CAF88] rounded-full" style="width: 4%"></div>
              </div>
           </div>

           <!-- Questions Container -->
           <div id="questionsContainer" class="space-y-4">
               <!-- Questions will be inserted here by JavaScript -->
           </div>

           <!-- Navigation Buttons -->
           <div class="flex gap-4 mt-8" id="navigationButtons">
               <button onclick="previousQuestion()" id="prevBtn" class="flex-1 bg-stone-200 hover:bg-stone-300 text-stone-700 font-semibold py-4 px-6 rounded-xl transition-colors disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                   ‚Üê Anterior
               </button>
               <button onclick="nextQuestion()" id="nextBtn" class="flex-1 bg-gradient-to-r from-[#6B8E23] to-[#5a7a1e] hover:from-[#5a7a1e] hover:to-[#4D6617] text-white font-semibold py-4 px-6 rounded-xl shadow-md hover:shadow-lg transition-all">
                   Pr√≥xima ‚Üí
               </button>
           </div>
       </div>

       <!-- Results Screen -->
       <div id="resultsScreen" class="hidden space-y-6">
           <div class="result-card bg-white rounded-3xl p-8 shadow-xl border-2 border-[#6B8E23]/20">
               <div class="text-center mb-8">
                   <div id="resultIcon" class="w-24 h-24 mx-auto mb-4 rounded-full bg-gradient-to-br from-[#6B8E23] to-[#5a7a1e] flex items-center justify-center shadow-lg">
                       <span class="text-5xl">üìä</span>
                   </div>
                   <h2 class="font-display text-3xl md:text-4xl font-bold text-stone-900 mb-3">
                       Resultado do Quiz
                   </h2>
                   <p class="text-lg text-stone-600" id="resultSubtitle"></p>
               </div>

               <!-- Score Cards -->
               <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 mb-8">
                   <div class="bg-rose-50 rounded-2xl p-6 text-center border-2 border-rose-200">
                       <p class="text-sm font-semibold text-rose-700 mb-1">Sintomas F√≠sicos</p>
                       <p class="text-4xl font-bold text-rose-800" id="scorePhysical">0</p>
                       <p class="text-xs text-rose-600">de 9</p>
                   </div>
                   <div class="bg-indigo-50 rounded-2xl p-6 text-center border-2 border-indigo-200">
                       <p class="text-sm font-semibold text-indigo-700 mb-1">Sintomas Cognitivos</p>
                       <p class="text-4xl font-bold text-indigo-800" id="scoreCognitive">0</p>
                       <p class="text-xs text-indigo-600">de 8</p>
                   </div>
                   <div class="bg-amber-50 rounded-2xl p-6 text-center border-2 border-amber-200">
                       <p class="text-sm font-semibold text-amber-700 mb-1">Fatores de Risco</p>
                       <p class="text-4xl font-bold text-amber-800" id="scoreRisk">0</p>
                       <p class="text-xs text-amber-600">de 8</p>
                   </div>
               </div>

               <!-- Total Score -->
               <div class="bg-gradient-to-br from-emerald-100 to-green-50 rounded-2xl p-6 mb-6 text-center border-2 border-[#6B8E23]/30">
                   <p class="text-sm font-semibold text-[#6B8E23] mb-2">Total de Sintomas</p>
                   <p class="text-6xl font-bold text-[#6B8E23]" id="scoreTotal">0</p>
                   <p class="text-sm text-stone-600 mt-1">de 25 itens marcados</p>
               </div>

               <!-- Recommendation -->
               <div id="recommendation" class="bg-white rounded-2xl p-6 border-2 border-stone-200">
                   <!-- Recommendation content will be inserted here -->
               </div>

               <!-- CTA -->
               <div class="mt-8 bg-gradient-to-br from-[#6B8E23] to-[#5a7a1e] rounded-2xl p-8 text-white text-center">
                   <h3 class="font-display text-2xl font-bold mb-3">Pr√≥ximos Passos</h3>
                   <p class="mb-6 text-emerald-50">Agende uma consulta especializada para avalia√ß√£o completa</p>
                   <a href="https://www.instagram.com/hematoveg/" target="_blank" rel="noopener noreferrer" 
                      class="inline-flex items-center gap-3 text-lg font-bold text-[#6B8E23] bg-white hover:bg-emerald-50 transition-all px-8 py-4 rounded-full shadow-lg hover:shadow-xl hover:-translate-y-1">
                       <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24">
                           <path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/>
                       </svg>
                       <span>@hematoveg</span>
                   </a>
               </div>

               <!-- Restart Button -->
               <button onclick="restartQuiz()" class="w-full mt-6 bg-stone-200 hover:bg-stone-300 text-stone-700 font-semibold py-4 px-8 rounded-xl transition-colors">
                   üîÑ Refazer Quiz
               </button>
           </div>
       </div>

   </main>

   <script>
       const questions = {
           physical: [
               'Cansda√ßo constante, mesmo ap√≥s dormir bem',
               'Palidez na pele, unhas ou mucosas',
               'Falta de ar ao subir escadas',
               'Cora√ß√£o acelerado sem motivo aparente',
               'Dores de cabe√ßa frequentes',
               'Unhas quebradi√ßas',
               'Queda de cabelo al√©m do normal',
               'L√≠ngua inchada ou dolorida',
               'Pele seca e rachaduras nos cantos da boca'
           ],
           cognitive: [
               'Dificuldade de concentra√ß√£o',
               'Esquecimentos frequentes',
               'Irritabilidade sem causa aparente',
               'Ansiedade ou inquieta√ß√£o',
               'Sensa√ß√£o de "n√©voa mental"',
               'Diminui√ß√£o do rendimento no trabalho/estudos',
               'Des√¢nimo ou apatia persistente',
               'Altera√ß√µes de humor frequentes'
           ],
           risk: [
               'Sou vegetariana h√° mais de 1 ano',
               'Menstrua√ß√£o abundante',
               'J√° tive anemia anteriormente',
               'N√£o consumo ou consumo pouca vitamina C',
               'Consumo muito caf√© ou ch√° junto √†s refei√ß√µes',
               'Pratico exerc√≠cios f√≠sicos intensos',
               'Tenho problemas gastrointestinais',
               'Estou gr√°vida ou amamentando'
           ]
       };

       let currentQuestionIndex = 0;
       let answers = {};
       const allQuestions = [
           ...questions.physical.map((q, i) => ({ text: q, id: `physical-${i}`, section: 'physical' })),
           ...questions.cognitive.map((q, i) => ({ text: q, id: `cognitive-${i}`, section: 'cognitive' })),
           ...questions.risk.map((q, i) => ({ text: q, id: `risk-${i}`, section: 'risk' }))
       ];

       function startQuiz() {
           document.getElementById('welcomeScreen').classList.add('hidden');
           document.getElementById('quizScreen').classList.remove('hidden');
           renderQuestion();
       }

       function renderQuestion() {
           const container = document.getElementById('questionsContainer');
           const question = allQuestions[currentQuestionIndex];
           const isChecked = answers[question.id] || false;

           // Update section label
           const sectionLabels = {
               physical: 'Parte 1: Sintomas F√≠sicos',
               cognitive: 'Parte 2: Sintomas Cognitivos',
               risk: 'Parte 3: Fatores de Risco'
           };
           document.getElementById('sectionLabel').textContent = sectionLabels[question.section];

           container.innerHTML = `
               <div class="question-card bg-white rounded-2xl p-6 md:p-8 shadow-md border-2 border-stone-100 hover:border-[#6B8E23]/30">
                   <label class="flex items-start gap-4 cursor-pointer">
                       <input type="checkbox" class="checkbox-custom mt-1" id="answer-${question.id}" 
                              ${isChecked ? 'checked' : ''} onchange="saveAnswer('${question.id}', this.checked)">
                       <div class="flex-1">
                           <p class="text-lg md:text-xl font-medium text-stone-900 leading-relaxed">
                               ${question.text}
                           </p>
                       </div>
                   </label>
               </div>
           `;

           // Update question counter
           document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
           document.getElementById('totalQuestions').textContent = allQuestions.length;

           // Update progress bar
           const progress = ((currentQuestionIndex + 1) / allQuestions.length) * 100;
           document.getElementById('progressBar').style.width = `${progress}%`;

           // Update navigation buttons
           document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
           const nextBtn = document.getElementById('nextBtn');
           if (currentQuestionIndex === allQuestions.length - 1) {
               nextBtn.textContent = 'Ver Resultado üìä';
               nextBtn.onclick = showResults;
           } else {
               nextBtn.textContent = 'Pr√≥xima ‚Üí';
               nextBtn.onclick = nextQuestion;
           }
       }

       function saveAnswer(id, checked) {
           answers[id] = checked;
       }

       function nextQuestion() {
           if (currentQuestionIndex < allQuestions.length - 1) {
               currentQuestionIndex++;
               renderQuestion();
               window.scrollTo({ top: 0, behavior: 'smooth' });
           }
       }

       function previousQuestion() {
           if (currentQuestionIndex > 0) {
               currentQuestionIndex--;
               renderQuestion();
               window.scrollTo({ top: 0, behavior: 'smooth' });
           }
       }

       function showResults() {
           // Calculate scores
           let scorePhysical = 0, scoreCognitive = 0, scoreRisk = 0;
           
           allQuestions.forEach(q => {
               if (answers[q.id]) {
                   if (q.section === 'physical') scorePhysical++;
                   if (q.section === 'cognitive') scoreCognitive++;
                   if (q.section === 'risk') scoreRisk++;
               }
           });

           const scoreTotal = scorePhysical + scoreCognitive + scoreRisk;

           // Display scores
           document.getElementById('scorePhysical').textContent = scorePhysical;
           document.getElementById('scoreCognitive').textContent = scoreCognitive;
           document.getElementById('scoreRisk').textContent = scoreRisk;
           document.getElementById('scoreTotal').textContent = scoreTotal;

           // Generate recommendation
           let recommendation = '';
           let subtitle = '';
           let icon = '';

           if (scoreTotal >= 10) {
               icon = '‚ö†Ô∏è';
               subtitle = 'M√∫ltiplos sinais identificados';
               recommendation = `
                   <div class="flex items-start gap-4 mb-4">
                       <div class="w-12 h-12 rounded-full bg-rose-100 flex items-center justify-center flex-shrink-0">
                           <span class="text-2xl">‚ö†Ô∏è</span>
                       </div>
                       <div>
                           <h4 class="font-bold text-lg text-stone-900 mb-2">Aten√ß√£o Necess√°ria</h4>
                           <p class="text-stone-700 leading-relaxed mb-3">
                               Voc√™ apresenta m√∫ltiplos sinais que podem estar relacionados √† defici√™ncia de ferro ou anemia. 
                           </p>
                           <p class="text-stone-700 leading-relaxed">
                               <strong class="text-rose-700">Recomenda√ß√£o:</strong> √â importante buscar avalia√ß√£o m√©dica especializada o quanto antes. Um hematologista poder√° solicitar exames espec√≠ficos e orientar o tratamento adequado.
                           </p>
                       </div>
                   </div>
               `;
           } else if (scoreTotal >= 5) {
               icon = 'üí°';
               subtitle = 'Alguns sinais identificados';
               recommendation = `
                   <div class="flex items-start gap-4 mb-4">
                       <div class="w-12 h-12 rounded-full bg-amber-100 flex items-center justify-center flex-shrink-0">
                           <span class="text-2xl">üí°</span>
                       </div>
                       <div>
                           <h4 class="font-bold text-lg text-stone-900 mb-2">Aten√ß√£o Moderada</h4>
                           <p class="text-stone-700 leading-relaxed mb-3">
                               Voc√™ apresenta alguns sinais que podem indicar necessidade de investiga√ß√£o.
                           </p>
                           <p class="text-stone-700 leading-relaxed">
                               <strong class="text-amber-700">Recomenda√ß√£o:</strong> Considere agendar uma consulta para avalia√ß√£o. Exames de sangue podem ajudar a verificar seus n√≠veis de ferro e hemoglobina.
                           </p>
                       </div>
                   </div>
               `;
           } else {
               icon = '‚úÖ';
               subtitle = 'Poucos sinais identificados';
               recommendation = `
                   <div class="flex items-start gap-4 mb-4">
                       <div class="w-12 h-12 rounded-full bg-emerald-100 flex items-center justify-center flex-shrink-0">
                           <span class="text-2xl">‚úÖ</span>
                       </div>
                       <div>
                           <h4 class="font-bold text-lg text-stone-900 mb-2">Baixo Risco Aparente</h4>
                           <p class="text-stone-700 leading-relaxed mb-3">
                               Voc√™ apresenta poucos sinais relacionados √† defici√™ncia de ferro.
                           </p>
                           <p class="text-stone-700 leading-relaxed">
                               <strong class="text-emerald-700">Recomenda√ß√£o:</strong> Continue atenta √† sua alimenta√ß√£o e bem-estar. Se voc√™ √© vegetariana, certifique-se de manter uma dieta balanceada e rica em ferro vegetal.
                           </p>
                       </div>
                   </div>
               `;
           }

           document.getElementById('resultIcon').innerHTML = `<span class="text-5xl">${icon}</span>`;
           document.getElementById('resultSubtitle').textContent = subtitle;
           document.getElementById('recommendation').innerHTML = recommendation;

           // Show results screen
           document.getElementById('quizScreen').classList.add('hidden');
           document.getElementById('resultsScreen').classList.remove('hidden');
           window.scrollTo({ top: 0, behavior: 'smooth' });
       }

       function restartQuiz() {
           currentQuestionIndex = 0;
           answers = {};
           document.getElementById('resultsScreen').classList.add('hidden');
           document.getElementById('welcomeScreen').classList.remove('hidden');
           window.scrollTo({ top: 0, behavior: 'smooth' });
       }
   </script>
 </body>
</html>
